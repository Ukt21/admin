from __future__ import annotations\nfrom datetime import datetime\nimport os, pytz, math as m\nTZ=os.getenv('TIMEZONE','Asia/Tashkent');_tz=pytz.timezone(TZ)\n\ndef now_local()->datetime: return datetime.now(_tz)\n\ndef today_local_str()->str: return now_local().strftime('%Y-%m-%d')\n\ndef haversine_m(a,b,c,d):\n    R=6371000.0\n    phi1,phi2=m.radians(a),m.radians(c)\n    dphi,dl=m.radians(c-a),m.radians(d-b)\n    x=m.sin(dphi/2)**2+m.cos(phi1)*m.cos(phi2)*m.sin(dl/2)**2\n    return R*2*m.atan2(m.sqrt(x),m.sqrt(1-x))\n